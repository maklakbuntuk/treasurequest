local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Module = require(Player.PlayerScripts.Shared.Client.CombatController)
local Attack = Module.BasicAttack
local Ability = Module.UseAbility
local CanTouch = type(firetouchinterest) == "function"
function start()
while wait() do		
local Event = game:GetService("ReplicatedStorage").Dungeon.Remotes.StartDungeon
Event:FireServer()
end
end
	for i,v in pairs(game.Players.LocalPlayer.Character.FighterVisuals:GetDescendants())do
    if v.Name == "Hitbox" then 
v.Size = Vector3.new(1000,1000,1000)
end
end
        function attack()
            while wait() do
                    for _,v in pairs(game.Workspace:GetDescendants()) do     
				     if v:FindFirstChild("HumanoidRootPart") ~= nil  then
						if v:FindFirstChild("EvilHumanoid")  then
							local TweenService = game:GetService("TweenService")
                            local tweenInfo = TweenInfo.new(
									1, -- Time
									Enum.EasingStyle.Back, -- EasingStyle
									Enum.EasingDirection.Out, -- EasingDirection
									1, -- RepeatCount (when less than zero tfhe tween will loop indefinitely)
									false, -- Reverses (tween will reverse once reaching it's goal)
									0 -- DelayTime
								)

            local tween = TweenService:Create(game.Players.LocalPlayer.Character.HumanoidRootPart, tweenInfo, {CFrame = v.HumanoidRootPart.CFrame + Vector3.new(0,50,0)}) --CHarposition
            tween:Play()
			--local pos = v.Head.Position

            repeat
             wait()
            
            game.Players.LocalPlayer.Character.Humanoid:ChangeState(11)
             Attack(Module)
   
              Ability(Module,v.HumanoidRootPart.Position)

			until v.EvilHumanoid.Health == 0 
    
    end
end
end
end
end
    function att2()
		while wait() do
               for _,v in pairs(game.Workspace:GetDescendants()) do     
				if v:FindFirstChild("Head") ~= nil then 
					if v:FindFirstChild("EvilHumanoid")  then
				
                Attack(Module)
                Ability(Module,v.HumanoidRootPart.Position)
             
            end
end
end
end
end
        function heal()
            while wait(0.5) do 
                --[[if CanTouch then
    Workspace:WaitForChild("Ignore").ChildAdded:Connect(function(A_1)
        if A_1.Name == "Medkit" and A_1:WaitForChild("TouchInterest",5) then
            repeat wait(0.2) until pcall(function() return Player.Character.Humanoid.Health < Player.Character.Humanoid.MaxHealth end)
            pcall(function()
                firetouchinterest(Player.Character.HumanoidRootPart,A_1,0)
                firetouchinterest(Player.Character.HumanoidRootPart,A_1,1)       
            end)
        end
    end)
end
        if CanTouch then
        local Chests = Workspace:GetDescendants()
        for _ = 1, #Chests do local Chest = Chests[_]
            if Chest.Name == "Chest" and Chest:FindFirstChild("Hitbox") and Chest.Hitbox:FindFirstChild("TouchInterest") then
                pcall(function()
                    firetouchinterest(Player.Character.HumanoidRootPart,Chest.Hitbox,0)
                    firetouchinterest(Player.Character.HumanoidRootPart,Chest.Hitbox,1)
                end)
            end
end
end
wait(1)]]
        for i,v in pairs(game:GetService("Workspace"):GetDescendants())do
            if v:IsA("Part") and v.Name == "Finish"then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
end
end
end
end
        spawn(attack)
    	spawn(att2)
        spawn(heal)
        spawn(start)
        
	--game.Players.LocalPlayer.Character.HumanoidRootPart.Orientation = Vector3.new(10,10,10)
